{"sections":[],"metadata":{"title":"MBSKeyDerivation","roleHeading":"Class","role":"symbol","modules":[{"name":"MbSecureCrypto"}],"navigatorTitle":[{"kind":"identifier","text":"MBSKeyDerivation"}],"externalID":"c:objc(cs)MBSKeyDerivation","fragments":[{"kind":"identifier","text":"MBSKeyDerivation"}],"symbolKind":"class"},"topicSections":[{"identifiers":["doc:\/\/MbSecureCrypto\/documentation\/MbSecureCrypto\/MBSKeyDerivation\/deriveKey:domain:context:error:","doc:\/\/MbSecureCrypto\/documentation\/MbSecureCrypto\/MBSKeyDerivation\/deriveKey:domain:context:keySize:algorithm:error:"],"title":"Type Methods","anchor":"Type-Methods","generated":true}],"identifier":{"url":"doc:\/\/MbSecureCrypto\/documentation\/MbSecureCrypto\/MBSKeyDerivation","interfaceLanguage":"occ"},"kind":"symbol","abstract":[{"type":"text","text":"A secure key derivation utility that implements HKDF (RFC 5869)."}],"hierarchy":{"paths":[["doc:\/\/MbSecureCrypto\/documentation\/MbSecureCrypto"]]},"relationshipsSections":[{"type":"inheritsFrom","title":"Inherits From","kind":"relationships","identifiers":["doc:\/\/MbSecureCrypto\/objc(cs)NSObject"]}],"variants":[{"traits":[{"interfaceLanguage":"occ"}],"paths":["\/documentation\/mbsecurecrypto\/mbskeyderivation"]}],"schemaVersion":{"minor":3,"major":0,"patch":0},"primaryContentSections":[{"kind":"declarations","declarations":[{"platforms":["iOS"],"tokens":[{"kind":"keyword","text":"@interface"},{"text":" ","kind":"text"},{"text":"MBSKeyDerivation","kind":"identifier"},{"text":" : ","kind":"text"},{"kind":"typeIdentifier","text":"NSObject","preciseIdentifier":"c:objc(cs)NSObject"}],"languages":["occ"]}]},{"content":[{"text":"Overview","level":2,"anchor":"overview","type":"heading"},{"type":"paragraph","inlineContent":[{"identifier":"doc:\/\/MbSecureCrypto\/documentation\/MbSecureCrypto\/MBSKeyDerivation","isActive":true,"type":"reference"},{"type":"text","text":" provides secure key derivation functionality using the HKDF"},{"type":"text","text":" "},{"type":"text","text":"(HMAC-based Key Derivation Function) algorithm as specified in RFC 5869."},{"type":"text","text":" "},{"text":"This implementation offers hardware-backed operation when available and","type":"text"},{"type":"text","text":" "},{"text":"automatic cleanup of sensitive key material.","type":"text"}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"Key security features:"}]},{"items":[{"content":[{"inlineContent":[{"type":"text","text":"Hardware security module integration when available"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Domain separation for derived keys"}]}]},{"content":[{"inlineContent":[{"type":"text","text":"Side-channel resistant implementation"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"type":"text","text":"Multiple hash algorithm support"}],"type":"paragraph"}]}],"type":"unorderedList"},{"inlineContent":[{"text":"Example usage:","type":"text"}],"type":"paragraph"},{"code":["\/\/ Generate a master key","NSData *masterKey = [MBSRandom generateBytes:32 error:&error];","","\/\/ Derive an encryption key with domain separation","NSData *derivedKey = [MBSKeyDerivation deriveKey:masterKey","                                          domain:@\"myapp.encryption\"","                                         context:@\"user-data-key\"","                                          error:&error];"],"syntax":"objc","type":"codeListing"},{"anchor":"Security-Considerations","type":"heading","level":2,"text":"Security Considerations"},{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"text":"Master key requirements:","type":"text"}],"type":"paragraph"},{"items":[{"content":[{"inlineContent":[{"type":"text","text":"Minimum length: 16 bytes (128 bits)"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"Should be randomly generated using ","type":"text"},{"isActive":true,"identifier":"doc:\/\/MbSecureCrypto\/documentation\/MbSecureCrypto\/MBSRandom","type":"reference"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Must be securely stored (e.g., in Keychain)"}]}]}],"type":"unorderedList"}]},{"content":[{"inlineContent":[{"type":"text","text":"Domain separation:"}],"type":"paragraph"},{"items":[{"content":[{"type":"paragraph","inlineContent":[{"text":"Use unique domain strings for different key purposes","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Domain strings should include app package name or identifier"}]}]},{"content":[{"inlineContent":[{"type":"text","text":"Context strings should identify specific use cases"}],"type":"paragraph"}]}],"type":"unorderedList"}]},{"content":[{"inlineContent":[{"text":"Algorithm selection:","type":"text"}],"type":"paragraph"},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"SHA-256 (default) provides 128-bit security"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"SHA-512 provides 256-bit security for high-security needs"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"SHA-1 provided only for legacy compatibility","type":"text"}]}]}]}]}]}],"kind":"content"}],"seeAlsoSections":[{"anchor":"Essentials","generated":true,"identifiers":["doc:\/\/MbSecureCrypto\/documentation\/MbSecureCrypto\/MBSRandom","doc:\/\/MbSecureCrypto\/documentation\/MbSecureCrypto\/MBSCipher"],"title":"Essentials"}],"references":{"doc://MbSecureCrypto/documentation/MbSecureCrypto/MBSRandom":{"kind":"symbol","fragments":[{"kind":"identifier","text":"MBSRandom"}],"type":"topic","identifier":"doc:\/\/MbSecureCrypto\/documentation\/MbSecureCrypto\/MBSRandom","url":"\/documentation\/mbsecurecrypto\/mbsrandom","role":"symbol","title":"MBSRandom","abstract":[{"text":"A utility class that provides cryptographically secure random number generation.","type":"text"}]},"doc://MbSecureCrypto/documentation/MbSecureCrypto/MBSKeyDerivation/deriveKey:domain:context:keySize:algorithm:error:":{"type":"topic","url":"\/documentation\/mbsecurecrypto\/mbskeyderivation\/derivekey:domain:context:keysize:algorithm:error:","role":"symbol","fragments":[{"text":"+ ","kind":"text"},{"text":"deriveKey:domain:context:keySize:algorithm:error:","kind":"identifier"}],"abstract":[{"text":"Derives a new key with specified parameters.","type":"text"}],"kind":"symbol","navigatorTitle":[{"kind":"identifier","text":"deriveKey:domain:context:keySize:algorithm:error:"}],"title":"deriveKey:domain:context:keySize:algorithm:error:","identifier":"doc:\/\/MbSecureCrypto\/documentation\/MbSecureCrypto\/MBSKeyDerivation\/deriveKey:domain:context:keySize:algorithm:error:"},"doc://MbSecureCrypto/objc(cs)NSObject":{"identifier":"doc:\/\/MbSecureCrypto\/objc(cs)NSObject","title":"NSObject","type":"unresolvable"},"doc://MbSecureCrypto/documentation/MbSecureCrypto/MBSCipher":{"abstract":[{"text":"A secure encryption and decryption utility that implements authenticated encryption.","type":"text"}],"type":"topic","title":"MBSCipher","url":"\/documentation\/mbsecurecrypto\/mbscipher","kind":"symbol","role":"symbol","identifier":"doc:\/\/MbSecureCrypto\/documentation\/MbSecureCrypto\/MBSCipher","fragments":[{"text":"MBSCipher","kind":"identifier"}]},"doc://MbSecureCrypto/documentation/MbSecureCrypto/MBSKeyDerivation/deriveKey:domain:context:error:":{"title":"deriveKey:domain:context:error:","url":"\/documentation\/mbsecurecrypto\/mbskeyderivation\/derivekey:domain:context:error:","role":"symbol","type":"topic","navigatorTitle":[{"text":"deriveKey:domain:context:error:","kind":"identifier"}],"kind":"symbol","abstract":[{"text":"Derives a new key using default parameters (SHA-256, 32 bytes).","type":"text"}],"identifier":"doc:\/\/MbSecureCrypto\/documentation\/MbSecureCrypto\/MBSKeyDerivation\/deriveKey:domain:context:error:","fragments":[{"text":"+ ","kind":"text"},{"text":"deriveKey:domain:context:error:","kind":"identifier"}]},"doc://MbSecureCrypto/documentation/MbSecureCrypto/MBSKeyDerivation":{"title":"MBSKeyDerivation","identifier":"doc:\/\/MbSecureCrypto\/documentation\/MbSecureCrypto\/MBSKeyDerivation","url":"\/documentation\/mbsecurecrypto\/mbskeyderivation","kind":"symbol","abstract":[{"text":"A secure key derivation utility that implements HKDF (RFC 5869).","type":"text"}],"role":"symbol","fragments":[{"kind":"identifier","text":"MBSKeyDerivation"}],"type":"topic"},"doc://MbSecureCrypto/documentation/MbSecureCrypto":{"title":"MbSecureCrypto","identifier":"doc:\/\/MbSecureCrypto\/documentation\/MbSecureCrypto","abstract":[{"type":"text","text":"A secure cryptography library for iOS and macOS that provides cryptographically secure random number generation and encryption capabilities."}],"type":"topic","url":"\/documentation\/mbsecurecrypto","role":"collection","kind":"symbol"}}}