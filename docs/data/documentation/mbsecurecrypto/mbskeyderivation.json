{"variants":[{"paths":["\/documentation\/mbsecurecrypto\/mbskeyderivation"],"traits":[{"interfaceLanguage":"occ"}]}],"primaryContentSections":[{"kind":"declarations","declarations":[{"languages":["occ"],"tokens":[{"kind":"keyword","text":"@interface"},{"kind":"text","text":" "},{"text":"MBSKeyDerivation","kind":"identifier"},{"text":" : ","kind":"text"},{"preciseIdentifier":"c:objc(cs)NSObject","kind":"typeIdentifier","text":"NSObject"}],"platforms":["iOS"]}]},{"kind":"content","content":[{"type":"heading","level":2,"text":"Overview","anchor":"overview"},{"inlineContent":[{"type":"reference","isActive":true,"identifier":"doc:\/\/MbSecureCrypto\/documentation\/MbSecureCrypto\/MBSKeyDerivation"},{"type":"text","text":" provides secure key derivation functionality using the HKDF"},{"type":"text","text":" "},{"type":"text","text":"(HMAC-based Key Derivation Function) algorithm as specified in RFC 5869."},{"text":" ","type":"text"},{"text":"This implementation offers hardware-backed operation when available and","type":"text"},{"type":"text","text":" "},{"text":"automatic cleanup of sensitive key material.","type":"text"}],"type":"paragraph"},{"inlineContent":[{"text":"Key security features:","type":"text"}],"type":"paragraph"},{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"type":"text","text":"Hardware security module integration when available"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Domain separation for derived keys"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"Side-channel resistant implementation","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Multiple hash algorithm support"}]}]}]},{"inlineContent":[{"type":"text","text":"Example usage:"}],"type":"paragraph"},{"syntax":"objc","code":["\/\/ Generate a master key","NSData *masterKey = [MBSRandom generateBytes:32 error:&error];","","\/\/ Derive an encryption key with domain separation","NSData *derivedKey = [MBSKeyDerivation deriveKey:masterKey","                                          domain:@\"myapp.encryption\"","                                         context:@\"user-data-key\"","                                          error:&error];"],"type":"codeListing"},{"type":"heading","anchor":"Security-Considerations","text":"Security Considerations","level":2},{"items":[{"content":[{"inlineContent":[{"type":"text","text":"Master key requirements:"}],"type":"paragraph"},{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"type":"text","text":"Minimum length: 16 bytes (128 bits)"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"Should be randomly generated using ","type":"text"},{"type":"reference","identifier":"doc:\/\/MbSecureCrypto\/documentation\/MbSecureCrypto\/MBSRandom","isActive":true}]}]},{"content":[{"inlineContent":[{"type":"text","text":"Must be securely stored (e.g., in Keychain)"}],"type":"paragraph"}]}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Domain separation:"}]},{"items":[{"content":[{"inlineContent":[{"text":"Use unique domain strings for different key purposes","type":"text"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"Domain strings should include app package name or identifier","type":"text"}]}]},{"content":[{"inlineContent":[{"type":"text","text":"Context strings should identify specific use cases"}],"type":"paragraph"}]}],"type":"unorderedList"}]},{"content":[{"inlineContent":[{"type":"text","text":"Algorithm selection:"}],"type":"paragraph"},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"SHA-256 (default) provides 128-bit security"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"SHA-512 provides 256-bit security for high-security needs","type":"text"}]}]},{"content":[{"inlineContent":[{"text":"SHA-1 provided only for legacy compatibility","type":"text"}],"type":"paragraph"}]}]}]}],"type":"unorderedList"}]}],"relationshipsSections":[{"type":"inheritsFrom","title":"Inherits From","identifiers":["doc:\/\/MbSecureCrypto\/objc(cs)NSObject"],"kind":"relationships"}],"sections":[],"identifier":{"interfaceLanguage":"occ","url":"doc:\/\/MbSecureCrypto\/documentation\/MbSecureCrypto\/MBSKeyDerivation"},"topicSections":[{"title":"Type Methods","generated":true,"identifiers":["doc:\/\/MbSecureCrypto\/documentation\/MbSecureCrypto\/MBSKeyDerivation\/deriveKey:domain:context:error:","doc:\/\/MbSecureCrypto\/documentation\/MbSecureCrypto\/MBSKeyDerivation\/deriveKey:domain:context:keySize:algorithm:error:"],"anchor":"Type-Methods"}],"schemaVersion":{"patch":0,"major":0,"minor":3},"abstract":[{"text":"A secure key derivation utility that implements HKDF (RFC 5869).","type":"text"}],"seeAlsoSections":[{"identifiers":["doc:\/\/MbSecureCrypto\/documentation\/MbSecureCrypto\/MBSRandom","doc:\/\/MbSecureCrypto\/documentation\/MbSecureCrypto\/MBSCipher"],"anchor":"Essentials","title":"Essentials","generated":true}],"hierarchy":{"paths":[["doc:\/\/MbSecureCrypto\/documentation\/MbSecureCrypto"]]},"metadata":{"externalID":"c:objc(cs)MBSKeyDerivation","roleHeading":"Class","navigatorTitle":[{"kind":"identifier","text":"MBSKeyDerivation"}],"modules":[{"name":"MbSecureCrypto"}],"fragments":[{"text":"MBSKeyDerivation","kind":"identifier"}],"symbolKind":"class","role":"symbol","title":"MBSKeyDerivation"},"kind":"symbol","references":{"doc://MbSecureCrypto/documentation/MbSecureCrypto/MBSKeyDerivation/deriveKey:domain:context:keySize:algorithm:error:":{"navigatorTitle":[{"kind":"identifier","text":"deriveKey:domain:context:keySize:algorithm:error:"}],"type":"topic","title":"deriveKey:domain:context:keySize:algorithm:error:","identifier":"doc:\/\/MbSecureCrypto\/documentation\/MbSecureCrypto\/MBSKeyDerivation\/deriveKey:domain:context:keySize:algorithm:error:","role":"symbol","abstract":[{"type":"text","text":"Derives a new key with specified parameters."}],"fragments":[{"kind":"text","text":"+ "},{"text":"deriveKey:domain:context:keySize:algorithm:error:","kind":"identifier"}],"kind":"symbol","url":"\/documentation\/mbsecurecrypto\/mbskeyderivation\/derivekey:domain:context:keysize:algorithm:error:"},"doc://MbSecureCrypto/objc(cs)NSObject":{"type":"unresolvable","identifier":"doc:\/\/MbSecureCrypto\/objc(cs)NSObject","title":"NSObject"},"doc://MbSecureCrypto/documentation/MbSecureCrypto/MBSKeyDerivation":{"type":"topic","kind":"symbol","title":"MBSKeyDerivation","fragments":[{"text":"MBSKeyDerivation","kind":"identifier"}],"url":"\/documentation\/mbsecurecrypto\/mbskeyderivation","identifier":"doc:\/\/MbSecureCrypto\/documentation\/MbSecureCrypto\/MBSKeyDerivation","abstract":[{"text":"A secure key derivation utility that implements HKDF (RFC 5869).","type":"text"}],"role":"symbol"},"doc://MbSecureCrypto/documentation/MbSecureCrypto":{"kind":"symbol","title":"MbSecureCrypto","url":"\/documentation\/mbsecurecrypto","role":"collection","type":"topic","identifier":"doc:\/\/MbSecureCrypto\/documentation\/MbSecureCrypto","abstract":[{"text":"A secure cryptography library for iOS and macOS that provides cryptographically secure random number generation and encryption capabilities.","type":"text"}]},"doc://MbSecureCrypto/documentation/MbSecureCrypto/MBSCipher":{"fragments":[{"kind":"identifier","text":"MBSCipher"}],"title":"MBSCipher","kind":"symbol","type":"topic","identifier":"doc:\/\/MbSecureCrypto\/documentation\/MbSecureCrypto\/MBSCipher","url":"\/documentation\/mbsecurecrypto\/mbscipher","abstract":[{"type":"text","text":"A secure encryption and decryption utility that implements authenticated encryption."}],"role":"symbol"},"doc://MbSecureCrypto/documentation/MbSecureCrypto/MBSKeyDerivation/deriveKey:domain:context:error:":{"fragments":[{"kind":"text","text":"+ "},{"kind":"identifier","text":"deriveKey:domain:context:error:"}],"navigatorTitle":[{"text":"deriveKey:domain:context:error:","kind":"identifier"}],"kind":"symbol","abstract":[{"text":"Derives a new key using default parameters (SHA-256, 32 bytes).","type":"text"}],"type":"topic","identifier":"doc:\/\/MbSecureCrypto\/documentation\/MbSecureCrypto\/MBSKeyDerivation\/deriveKey:domain:context:error:","role":"symbol","title":"deriveKey:domain:context:error:","url":"\/documentation\/mbsecurecrypto\/mbskeyderivation\/derivekey:domain:context:error:"},"doc://MbSecureCrypto/documentation/MbSecureCrypto/MBSRandom":{"identifier":"doc:\/\/MbSecureCrypto\/documentation\/MbSecureCrypto\/MBSRandom","abstract":[{"type":"text","text":"A utility class that provides cryptographically secure random number generation."}],"kind":"symbol","title":"MBSRandom","type":"topic","url":"\/documentation\/mbsecurecrypto\/mbsrandom","fragments":[{"kind":"identifier","text":"MBSRandom"}],"role":"symbol"}}}