{"kind":"symbol","hierarchy":{"paths":[["doc:\/\/MbSecureCrypto\/documentation\/MbSecureCrypto","doc:\/\/MbSecureCrypto\/documentation\/MbSecureCrypto\/MBSKeyDerivation"]]},"abstract":[{"text":"Derives a new key with specified parameters.","type":"text"}],"schemaVersion":{"patch":0,"major":0,"minor":3},"sections":[],"variants":[{"paths":["\/documentation\/mbsecurecrypto\/mbskeyderivation\/derivekey:domain:context:keysize:algorithm:error:"],"traits":[{"interfaceLanguage":"occ"}]}],"metadata":{"roleHeading":"Type Method","title":"deriveKey:domain:context:keySize:algorithm:error:","fragments":[{"text":"+ ","kind":"text"},{"kind":"identifier","text":"deriveKey:domain:context:keySize:algorithm:error:"}],"externalID":"c:objc(cs)MBSKeyDerivation(cm)deriveKey:domain:context:keySize:algorithm:error:","symbolKind":"method","role":"symbol","navigatorTitle":[{"text":"deriveKey:domain:context:keySize:algorithm:error:","kind":"identifier"}],"modules":[{"name":"MbSecureCrypto"}]},"primaryContentSections":[{"declarations":[{"tokens":[{"text":"+ (","kind":"text"},{"kind":"typeIdentifier","preciseIdentifier":"c:objc(cs)NSData","text":"NSData"},{"text":" *) ","kind":"text"},{"text":"deriveKey:","kind":"identifier"},{"text":"(","kind":"text"},{"kind":"typeIdentifier","preciseIdentifier":"c:objc(cs)NSData","text":"NSData"},{"text":" *) ","kind":"text"},{"kind":"internalParam","text":"masterKey"},{"text":" ","kind":"text"},{"text":"domain:","kind":"identifier"},{"kind":"text","text":"("},{"preciseIdentifier":"c:objc(cs)NSString","text":"NSString","kind":"typeIdentifier"},{"kind":"text","text":" *) "},{"kind":"internalParam","text":"domain"},{"text":" ","kind":"text"},{"text":"context:","kind":"identifier"},{"kind":"text","text":"("},{"kind":"typeIdentifier","preciseIdentifier":"c:objc(cs)NSString","text":"NSString"},{"text":" *) ","kind":"text"},{"kind":"internalParam","text":"context"},{"text":" ","kind":"text"},{"text":"keySize:","kind":"identifier"},{"kind":"text","text":"("},{"preciseIdentifier":"c:@T@NSInteger","kind":"typeIdentifier","text":"NSInteger"},{"kind":"text","text":") "},{"text":"keySize","kind":"internalParam"},{"text":" ","kind":"text"},{"text":"algorithm:","kind":"identifier"},{"text":"(","kind":"text"},{"text":"MBSHkdfAlgorithm","identifier":"doc:\/\/MbSecureCrypto\/documentation\/MbSecureCrypto\/MBSHkdfAlgorithm","preciseIdentifier":"c:@E@MBSHkdfAlgorithm","kind":"typeIdentifier"},{"kind":"text","text":") "},{"text":"algorithm","kind":"internalParam"},{"text":" ","kind":"text"},{"text":"error:","kind":"identifier"},{"kind":"text","text":"("},{"kind":"typeIdentifier","preciseIdentifier":"c:objc(cs)NSError","text":"NSError"},{"kind":"text","text":" * *) "},{"text":"error","kind":"internalParam"},{"kind":"text","text":";"}],"platforms":["iOS"],"languages":["occ"]}],"kind":"declarations"},{"parameters":[{"name":"masterKey","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"The master key for derivation (minimum 16 bytes)"}]}]},{"name":"domain","content":[{"inlineContent":[{"type":"text","text":"Domain identifier for key separation (e.g., “myapp.encryption”)"}],"type":"paragraph"}]},{"name":"context","content":[{"type":"paragraph","inlineContent":[{"text":"Usage context for the key (e.g., “user-data”)","type":"text"}]}]},{"name":"keySize","content":[{"type":"paragraph","inlineContent":[{"text":"Size of the derived key in bytes","type":"text"}]}]},{"content":[{"inlineContent":[{"type":"text","text":"HKDF algorithm to use"}],"type":"paragraph"}],"name":"algorithm"},{"content":[{"inlineContent":[{"text":"Error object populated on failure","type":"text"}],"type":"paragraph"}],"name":"error"}],"kind":"parameters"},{"kind":"content","content":[{"type":"heading","anchor":"return-value","level":2,"text":"Return Value"},{"inlineContent":[{"text":"Derived key as NSData, or nil on error","type":"text"}],"type":"paragraph"}]},{"kind":"content","content":[{"level":2,"text":"Discussion","type":"heading","anchor":"discussion"},{"inlineContent":[{"type":"text","text":"Derives a key using HKDF with the following structured info string format:"}],"type":"paragraph"},{"type":"codeListing","syntax":null,"code":["com.mavbozo.mbsecurecrypto.<domain>.v1:<context>"]},{"type":"paragraph","inlineContent":[{"text":"Example usage with custom parameters:","type":"text"}]},{"type":"codeListing","code":["NSData *key = [MBSKeyDerivation deriveKey:masterKey","                                   domain:@\"encryption\"","                                  context:@\"user-data\"","                                  keySize:64","                               algorithm:MBSHkdfAlgorithmSHA512","                                   error:&error];"],"syntax":"objc"},{"type":"aside","content":[{"inlineContent":[{"type":"text","text":"The function enforces minimum key size requirements and validates all inputs"}],"type":"paragraph"}],"name":"Note","style":"note"},{"style":"important","name":"Important","content":[{"inlineContent":[{"type":"text","text":"The master key should be securely generated and stored"}],"type":"paragraph"}],"type":"aside"}]}],"identifier":{"url":"doc:\/\/MbSecureCrypto\/documentation\/MbSecureCrypto\/MBSKeyDerivation\/deriveKey:domain:context:keySize:algorithm:error:","interfaceLanguage":"occ"},"references":{"doc://MbSecureCrypto/documentation/MbSecureCrypto/MBSKeyDerivation/deriveKey:domain:context:keySize:algorithm:error:":{"type":"topic","url":"\/documentation\/mbsecurecrypto\/mbskeyderivation\/derivekey:domain:context:keysize:algorithm:error:","role":"symbol","fragments":[{"text":"+ ","kind":"text"},{"text":"deriveKey:domain:context:keySize:algorithm:error:","kind":"identifier"}],"abstract":[{"text":"Derives a new key with specified parameters.","type":"text"}],"kind":"symbol","navigatorTitle":[{"kind":"identifier","text":"deriveKey:domain:context:keySize:algorithm:error:"}],"title":"deriveKey:domain:context:keySize:algorithm:error:","identifier":"doc:\/\/MbSecureCrypto\/documentation\/MbSecureCrypto\/MBSKeyDerivation\/deriveKey:domain:context:keySize:algorithm:error:"},"doc://MbSecureCrypto/documentation/MbSecureCrypto/MBSKeyDerivation":{"title":"MBSKeyDerivation","identifier":"doc:\/\/MbSecureCrypto\/documentation\/MbSecureCrypto\/MBSKeyDerivation","url":"\/documentation\/mbsecurecrypto\/mbskeyderivation","kind":"symbol","abstract":[{"text":"A secure key derivation utility that implements HKDF (RFC 5869).","type":"text"}],"role":"symbol","fragments":[{"kind":"identifier","text":"MBSKeyDerivation"}],"type":"topic"},"doc://MbSecureCrypto/documentation/MbSecureCrypto/MBSHkdfAlgorithm":{"kind":"symbol","identifier":"doc:\/\/MbSecureCrypto\/documentation\/MbSecureCrypto\/MBSHkdfAlgorithm","type":"topic","title":"MBSHkdfAlgorithm","abstract":[{"text":"Supported HKDF algorithms with their corresponding HMAC functions.","type":"text"}],"url":"\/documentation\/mbsecurecrypto\/mbshkdfalgorithm","fragments":[{"kind":"identifier","text":"MBSHkdfAlgorithm"}],"role":"symbol"},"doc://MbSecureCrypto/documentation/MbSecureCrypto":{"title":"MbSecureCrypto","identifier":"doc:\/\/MbSecureCrypto\/documentation\/MbSecureCrypto","abstract":[{"type":"text","text":"A secure cryptography library for iOS and macOS that provides cryptographically secure random number generation and encryption capabilities."}],"type":"topic","url":"\/documentation\/mbsecurecrypto","role":"collection","kind":"symbol"}}}